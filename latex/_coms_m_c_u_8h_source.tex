\doxysection{Coms\+MCU.\+h}
\hypertarget{_coms_m_c_u_8h_source}{}\label{_coms_m_c_u_8h_source}\index{ExoCode/src/ComsMCU.h@{ExoCode/src/ComsMCU.h}}
\mbox{\hyperlink{_coms_m_c_u_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#ifndef\ COMSMCU\_H}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#define\ COMSMCU\_H}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}Arduino.h"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_exo_b_l_e_8h}{ExoBLE.h}}"{}}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_battery_8h}{Battery.h}}"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_ble_message_8h}{BleMessage.h}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_parse_ini_8h}{ParseIni.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_exo_data_8h}{ExoData.h}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_ble_message_queue_8h}{BleMessageQueue.h}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#if\ defined(ARDUINO\_ARDUINO\_NANO33BLE)\ |\ defined(ARDUINO\_NANO\_RP2040\_CONNECT)}}
\DoxyCodeLine{00026\ \textcolor{keyword}{class\ }ComsMCU}
\DoxyCodeLine{00027\ \{}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ ComsMCU(\mbox{\hyperlink{class_exo_data}{ExoData}}*\ data,\ uint8\_t*\ config\_to\_send);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ handle\_ble();}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ local\_sample();}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ update\_UART();}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ update\_gui();}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ handle\_errors();}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \_life\_pulse();}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ k\_pulse\_count\ =\ 10;}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \_process\_complete\_gui\_command(\mbox{\hyperlink{class_ble_message}{BleMessage}}*\ msg);}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Reference\ to\ ExoBLE\ object,\ this\ is\ the\ next\ step\ down\ the\ composition\ heirarchy}}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ ExoBLE*\ \_exo\_ble;}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Hold\ on\ to\ the\ last\ message\ from\ the\ GUI}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ble_message}{BleMessage}}\ \_latest\_gui\_message\ =\ \mbox{\hyperlink{class_ble_message}{BleMessage}}();}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Data}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_exo_data}{ExoData}}*\ \_data;}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Battery}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \_Battery*\ \_battery;}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \_mark\_index\ =\ 1;}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Alpha\ value\ for\ the\ exponentially\ weighted\ moving\ average\ on\ the\ battery\ data}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ k\_battery\_ewma\_alpha\ =\ 0.1;}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ k\_time\_threshold\ =\ 5000;\ \textcolor{comment}{//microseconds}}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00095\ \};}
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
